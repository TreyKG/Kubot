<!doctype html>
<html>

<head>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta charset="utf-8">
  <title>Crypto Bot</title>
  <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
    crossorigin="anonymous"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.1/dist/chart.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

  <script>
    function getMarketStats(symbol) {
      var xhr = new XMLHttpRequest();
      var url = "https://api.kucoin.com/api/v1/market/stats?BTC=" + BTC;

      xhr.onreadystatechange = function () {
        if (this.readyState == 4 && this.status == 200) {
          var response = JSON.parse(this.responseText);
          console.log(response);
          // Do something with the response data
        }
      };

      xhr.open("GET", url, true);
      xhr.send();
    }

    window.onload = function () {
      getMarketStats("BTC-USDT");
    };
  </script>


</head>
<style>
  div[class |="col"] {
    line-height: 23px;

  }

  .btn-group {
    display: flex;
    justify-content: center;
    align-items: center;
    margin-top: -10px;
    /* add margin-top to move the buttons down */
  }

  .btn {
    border: None
  }

  .btn:hover {
    color: #d06767;
    background-color: #000;
    border: none;
  }

  .btn:focus,
  .btn:active {
    outline: none;
  }

  @media (max-width: 768px) {
    .btn-group {
      flex-direction: column;
    }

    .btn-group button {
      margin-top: 10px;
    }
  }

  span {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100%;
    background-color: #90EE90;
    /* light blueish green color */
    padding: 0 20px;
    text-align: center;
    /* center-align the text */
  }

  p {
    margin: 0;
    width: 100%;
    /* use all the available space */
  }

  #logtable>tbody>tr>td {
    text-align: center;
  }
</style>

<body style="padding-top:100">
  <nav class="navbar navbar-expand-lg navbar-light bg-danger-subtle">
    <div class="container-fluid">
      <a class="navbar-brand" href="#"></a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navArea">
        <span class="navbar-tooggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navArea">
        <ul class="navbar-nav me-auto">
          <li class="nav-item"><a class="nav-link active" href="https://chain.link/">Main page</a></li>
          <li class="nav-item"><a class="nav-link" href="https://coinmarketcap.com/zh-tw/">Brand</a></li>
          <li class="nav-item dropdown"><a class="nav-link
                                dropdown-toggle" id="navbarDropdown" role="button" data-bs-toggle="dropdown"
              href="#">About us</a>
            <ul class="dropdown-menu">
              <li><a class="dropdown-item" href="https://coinmarketcap.com/zh-tw/">Team</a></li>
              <li><a class="dropdown-item" href="https://coinmarketcap.com/zh-tw/">History</a></li>
            </ul>
          </li>
        </ul>
        <form class="d-flex">
          <input type="form-control me-2" type="search" placeholder="Keywords">
          <button class="btn btn-dark" type="submit">GO</button>
        </form>
      </div>
    </div>
  </nav>
</body>

<body>
  <div class="container-fluid modal-fullscreen" style="height:390px">
    <div class="row">
      <div class="col-md-4 g-0">
        <table id="crypto-table" class="table table-striped bg-success-subtle table-hover table-responsive-md mx-0"
          style="margin-bottom: 0;">
          <thead class="text-white text-center bg-success">
            <tr>
              <th class="text-center">Ticker</th>
              <th class="text-center">Price</th>
              <th class="text-center">Rate (%)</th>
              <th class="text-center">Volume</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-center">BTC</td>
              <td id="BTC_price" class="text-center"></td>
              <td id="BTC_rate" class="text-center"></td>
              <td id="BTC_vol" class="text-center"></td>
            </tr>
            <tr>
              <td class="text-center">ETH</td>
              <td id="ETH_price" class="text-center"></td>
              <td id="ETH_rate" class="text-center"></td>
              <td id="ETH_vol" class="text-center"></td>
            </tr>
            <tr>
              <td class="text-center">XRP</td>
              <td id="XRP_price" class="text-center"></td>
              <td id="XRP_rate" class="text-center"></td>
              <td id="XRP_vol" class="text-center"></td>
            </tr>
            <tr>
              <td class="text-center">SOL</td>
              <td id="SOL_price" class="text-center"></td>
              <td id="SOL_rate" class="text-center"></td>
              <td id="SOL_vol" class="text-center"></td>
            </tr>
            <tr>
              <td class="text-center">AVAX</td>
              <td id="AVAX_price" class="text-center"></td>
              <td id="AVAX_rate" class="text-center"></td>
              <td id="AVAX_vol" class="text-center"></td>
            </tr>
            <tr>
              <td class="text-center">NEAR</td>
              <td id="NEAR_price" class="text-center"></td>
              <td id="NEAR_rate" class="text-center"></td>
              <td id="NEAR_vol" class="text-center"></td>
            </tr>
            <tr>
              <td class="text-center">ADA</td>
              <td id="ADA_price" class="text-center"></td>
              <td id="ADA_rate" class="text-center"></td>
              <td id="ADA_vol" class="text-center"></td>
            </tr>
            <tr>
              <td class="text-center">QNT</td>
              <td id="QNT_price" class="text-center"></td>
              <td id="QNT_rate" class="text-center"></td>
              <td id="QNT_vol" class="text-center"></td>
            </tr>
            <tr>
              <td class="text-center">LINK</td>
              <td id="LINK_price" class="text-center"></td>
              <td id="LINK_rate" class="text-center"></td>
              <td id="LINK_vol" class="text-center"></td>
            </tr>
          </tbody>
        </table>
      </div>


      <div class="col-md-8" style="background-color: #f6f5ea">
        <canvas id="myChart" style="width:100%; height:390px;"></canvas>
        <script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.1/dist/chart.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
        <script>
          const url = "https://api.coingecko.com/api/v3/coins/bitcoin/market_chart?vs_currency=usd&days=30";

          axios.get(url)
            .then(function (response) {
              const data = response.data.prices;
              const dates = data.map(entry => new Date(entry[0]).toLocaleDateString());
              const prices = data.map(entry => entry[1]);

              const ctx = document.getElementById('myChart').getContext('2d');
              const myChart = new Chart(ctx, {
                type: 'line',
                data: {
                  labels: dates,
                  datasets: [{
                    label: 'BTC Price',
                    data: prices,
                    backgroundColor: 'rgba(54, 162, 235, 0.2)',
                    borderColor: 'rgba(54, 162, 235, 1)',
                    borderWidth: 2,
                    pointRadius: 0, // remove the dots
                    pointHoverRadius: 0, // remove the dots
                    borderCapStyle: 'round', // make the lines look more elegant
                  }]
                },
                options: {
                  animation: {
                    duration: 2000
                  },
                  plugins: {
                    title: {
                      display: true,
                      text: 'Bitcoin Price (USD)',
                      font: {
                        size: 24,
                        weight: 'bold'
                      }
                    },
                    legend: {
                      display: false
                    }
                  },
                  scales: {
                    x: {
                      grid: {
                        display: false
                      },
                      ticks: {
                        font: {
                          size: 14
                        }
                      }
                    },
                    y: {
                      grid: {
                        color: '#ddd',
                        lineWidth: 1,
                        borderDash: [3, 3]
                      },
                      ticks: {
                        font: {
                          size: 14
                        },
                        callback: function (value, index, values) {
                          return '$' + value;
                        }
                      }
                    }
                  }
                }
              });
            })
            .catch(function (error) {
              console.log(error);
            });
        </script>
      </div>



      <div class="row" style="background-color: danger;">
        <div class="col-md-4" style="height: 500px;background-color: beige;">
          <h2 class="text-center" style="font-size: 20px; margin-top: 20px; margin-bottom: 20px;">Current Balance</h2>
          <div class="d-flex justify-content-center align-items-center" style="height: 20px;">
            <div class="input-group w-50">
              <input type="number" class="form-control text-center" id="textdata">
            </div>
          </div>
          <h2 class="text-center" style="font-size: 20px; margin-top: 30px; margin-bottom: 20px;">Input Balance</h2>
          <div class="d-flex justify-content-center align-items-center" style="height: 20px;">
            <div class="input-group w-50">
              <input type="number" class="form-control text-center" id="textdata" placeholder="Input Amount">
            </div>
          </div>
          <h2 class="text-center" style="font-size: 20px; margin-top: 30px; margin-bottom: 20px;">Total Balance</h2>
          <div class="d-flex justify-content-center align-items-center" style="height: 20px;">
            <div class="input-group w-50">
              <input type="number" class="form-control text-center" id="textdata">
            </div>
          </div>
          <div class="d-flex justify-content-center mt-5">
            <div class="btn-group" role="group">
              <button type="button" class="btn btn-lg" style="background-color: beige;">
                <h2 class="mb-0" style="font-weight: bold;">Start</h2>
                <img src="image/start.png" class="img-fluid center" id="start" style="height: 100px; margin-top: 10px;">
              </button>
              <button type="button" class="btn btn-lg" style="background-color: beige;">
                <h2 class="mb-0" style="font-weight: bold;">Stop</h2>
                <img src="image/stop.png" class="img-fluid center" id="stop" style="height: 100px; margin-top: 10px;">
              </button>
            </div>
          </div>
        </div>


        <div class="col-md-8" style="background-color: beige;">
          <div class="d-flex flex-column h-100">
            <div class="container flex-fill">
              <div class="row justify-content-center h-100">
                <div class="col-md-4" style="padding-top: 15px;">
                  <h3 class="text-center m-0 font-weight-bold">Manual Trade Log</h3>
                  <div class="d-flex justify-content-center align-items-center"
                    style="background-color: #CFFCFF; height: 400px; border-radius: 20px; border: 2px solid darkgray; margin-top:15px;">
                    <div class="d-flex flex-column align-self-start">
                      <div class="table-responsive" style="overflow-x: auto;">
                        <table class="table table-sm"
                          style="width: 80%; margin: 0 auto; max-width: 100%; word-wrap: break-word;table-layout: fixed;">
                          <thead class="text-center">
                            <tr>
                              <th>Pair</th>
                              <th>Price</th>
                              <th>Amount</th>
                              <th>Date</th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr>
                              <td>BTC</td>
                              <td>100</td>
                              <td>50</td>
                              <td style="width: 25%;
                            white-space: nowrap; word-break: break-word;">03/27/2023</td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="col-md-4" style="padding-top: 15px;">
                  <h3 class="text-center m-0 font-weight-bold">Manual Trade Log</h3>
                  <div class="d-flex justify-content-center align-items-center"
                    style="background-color: #CFFCFF; height: 400px; border-radius: 20px; border: 2px solid darkgray; margin-top:15px; ">
                    <div class="d-flex flex-column align-self-start">
                      <div class="table-responsive" style="overflow-x: auto;">
                        <table class="table table-sm"
                          style="width: 80%; margin: 0 auto; max-width: 100%; word-wrap: break-word;table-layout: fixed;">
                          <thead class="text-center">
                            <tr>
                              <th>Pair</th>
                              <th>Price</th>
                              <th>Amount</th>
                              <th>Date</th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr>
                              <td>BTC</td>
                              <td>100</td>
                              <td>50</td>
                              <td style="width: 25%;
                            white-space: nowrap; word-break: break-word;">03/27/2023</td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="col-md-4" style="padding-top: 15px;">
                  <h3 class="text-center m-0 font-weight-bold">Manual Trade Log</h3>
                  <div class="d-flex justify-content-center align-items-center"
                    style="background-color: #CFFCFF; height: 400px; border-radius: 20px; border: 2px solid darkgray; margin-top:15px;">
                    <div class="d-flex flex-column align-self-start">
                      <div class="table-responsive" style="overflow-x: auto;">
                        <table id="logtable" class="table table-sm"
                          style="width: 80%; margin: 0 auto; max-width: 100%; word-wrap: break-word;table-layout: fixed;">
                          <thead class="text-center">
                            <tr>
                              <th>Pair</th>
                              <th>Price</th>
                              <th>Amount</th>
                              <th>Date</th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr>
                              <td>BTC</td>
                              <td>100</td>
                              <td>50</td>
                              <td style="width: 25%;
                            white-space: nowrap; word-break: break-word;">03/27/2023</td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <script>
          $(function () {
            function fetchData() {
              var url = "https://raw.githubusercontent.com/TreyKG/Kubot/main/data.json?" + new Date().getTime();
              $.getJSON(url, function (data) {
                $.each(data, function (key, value) {
                  $('#' + key + '_price').text(value.price);
                  $('#' + key + '_rate').text(value.rate);
                  $('#' + key + '_vol').text(value.vol);
                });
              });
            }

            fetchData();
            setInterval(fetchData, 1000);
          });

        </script>
      </div>
</body>

</html>
